[[ test ]]
game_system = "Emoklore"
input = "1D10>=5"
output = "(1D10>=5) ＞ 9 ＞ 成功"
success = true
rands = [
  { sides = 10, value = 9 },
]

[[ test ]]
game_system = "Emoklore"
input = "1DM<=5"
output = "(1DM<=5) ＞ [6] ＞ 0 ＞ 成功数0 失敗"
failure = true
rands = [
  { sides = 10, value = 6 },
]

[[ test ]]
game_system = "Emoklore"
input = "1DM<=5"
output = "(1DM<=5) ＞ [5] ＞ 1 ＞ 成功数1 成功"
success = true
rands = [
  { sides = 10, value = 5 },
]

[[ test ]]
game_system = "Emoklore"
input = "1DM<=5"
output = "(1DM<=5) ＞ [1] ＞ 2 ＞ 成功数2 ダブル"
success = true
critical = true
rands = [
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Emoklore"
input = "DM<=5"
output = "(1DM<=5) ＞ [1] ＞ 2 ＞ 成功数2 ダブル"
success = true
critical = true
rands = [
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Emoklore"
input = "2DM<=5"
output = "(2DM<=5) ＞ [1, 6] ＞ 2 ＞ 成功数2 ダブル"
success = true
critical = true
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 6 },
]

[[ test ]]
game_system = "Emoklore"
input = "2DM<=5"
output = "(2DM<=5) ＞ [1, 1] ＞ 4 ＞ 成功数4 ミラクル"
success = true
critical = true
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Emoklore"
input = "10DM<=3"
output = "(10DM<=3) ＞ [4, 7, 10, 3, 6, 9, 2, 5, 8, 1] ＞ 3 ＞ 成功数3 トリプル"
success = true
critical = true
rands = [
  { sides = 10, value = 4 },
  { sides = 10, value = 7 },
  { sides = 10, value = 10 },
  { sides = 10, value = 3 },
  { sides = 10, value = 6 },
  { sides = 10, value = 9 },
  { sides = 10, value = 2 },
  { sides = 10, value = 5 },
  { sides = 10, value = 8 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Emoklore"
input = "10DM<=3"
output = "(10DM<=3) ＞ [10, 10, 10, 1, 1, 1, 1, 1, 1, 1] ＞ 11 ＞ 成功数11 カタストロフ"
success = true
critical = true
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Emoklore"
input = "10DM<=3"
output = "(10DM<=3) ＞ [10, 10, 5, 1, 1, 1, 1, 1, 1, 1] ＞ 12 ＞ 成功数12 カタストロフ"
success = true
critical = true
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 5 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Emoklore"
input = "10DM<=3"
output = "(10DM<=3) ＞ [10, 10, 10, 10, 1, 1, 1, 1, 1, 1] ＞ 8 ＞ 成功数8 ミラクル"
success = true
critical = true
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Emoklore"
input = "10DM<=3"
output = "(10DM<=3) ＞ [10, 10, 10, 10, 1, 4, 5, 6, 7, 8] ＞ -2 ＞ 成功数-2 ファンブル"
failure = true
fumble = true
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 1 },
  { sides = 10, value = 4 },
  { sides = 10, value = 5 },
  { sides = 10, value = 6 },
  { sides = 10, value = 7 },
  { sides = 10, value = 8 },
]

[[ test ]]
game_system = "Emoklore"
input = "1DM<=0"
output = "(1DM<=0) ＞ [1] ＞ 1 ＞ 成功数1 成功"
success = true
rands = [
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Emoklore"
input = "1DM<=10"
output = "(1DM<=10) ＞ [10] ＞ 0 ＞ 成功数0 失敗"
failure = true
rands = [
  { sides = 10, value = 10 },
]

[[ test ]]
game_system = "Emoklore"
input = "2DA3"
output = "(2DA3) ＞ (2DM<=5) ＞ [8, 5] ＞ 1 ＞ 成功数1 成功"
success = true
rands = [
  { sides = 10, value = 8 },
  { sides = 10, value = 5 },
]

[[ test ]]
game_system = "Emoklore"
input = "2DA3+1"
output = "(2DA3+1) ＞ (3DM<=5) ＞ [8, 5, 6] ＞ 1 ＞ 成功数1 成功"
success = true
rands = [
  { sides = 10, value = 8 },
  { sides = 10, value = 5 },
  { sides = 10, value = 6 },
]

[[ test ]]
game_system = "Emoklore"
input = "DA3+1"
output = "(DA3+1) ＞ (2DM<=3) ＞ [8, 6] ＞ 0 ＞ 成功数0 失敗"
failure = true
rands = [
  { sides = 10, value = 8 },
  { sides = 10, value = 6 },
]

[[ test ]]
game_system = "Emoklore"
input = "1DA3"
output = "(1DA3) ＞ (1DM<=4) ＞ [2] ＞ 1 ＞ 成功数1 成功"
success = true
rands = [
  { sides = 10, value = 2 },
]

[[ test ]]
game_system = "Emoklore"
input = "1DA3"
output = "(1DA3) ＞ (1DM<=4) ＞ [1] ＞ 2 ＞ 成功数2 ダブル"
success = true
critical = true
rands = [
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Emoklore"
input = "bDA3"
output = "(BDA3) ＞ (1DM<=3) ＞ [1] ＞ 2 ＞ 成功数2 ダブル"
success = true
critical = true
rands = [
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Emoklore"
input = "bDA3+5"
output = "(BDA3+5) ＞ (6DM<=3) ＞ [1, 2, 3, 4, 7, 8] ＞ 4 ＞ 成功数4 ミラクル"
success = true
critical = true
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 2 },
  { sides = 10, value = 3 },
  { sides = 10, value = 4 },
  { sides = 10, value = 7 },
  { sides = 10, value = 8 }
]

[[ test ]]
game_system = "Emoklore"
input = "3DA3+5"
output = "(3DA3+5) ＞ (8DM<=6) ＞ [1, 2, 3, 4, 7, 8, 9, 10] ＞ 4 ＞ 成功数4 ミラクル"
success = true
critical = true
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 2 },
  { sides = 10, value = 3 },
  { sides = 10, value = 4 },
  { sides = 10, value = 7 },
  { sides = 10, value = 8 },
  { sides = 10, value = 9 },
  { sides = 10, value = 10 },
]

[[ test ]]
game_system = "Emoklore"
input = "3DA3+9"
output = "(3DA3+9) ＞ (12DM<=6) ＞ [10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10] ＞ -12 ＞ 成功数-12 ファンブル"
failure = true
fumble = true
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
]

[[ test ]]
game_system = "Emoklore"
input = "3DA3+4 (技能：調査)"
output = "(3DA3+4) ＞ (7DM<=6) ＞ [10, 10, 10, 10, 10, 10, 10] ＞ -7 ＞ 成功数-7 ファンブル"
failure = true
fumble = true
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
]

# 算術式テスト: ダイス数に加算
[[ test ]]
game_system = "Emoklore"
input = "2+2DM<=5"
output = "(2+2DM<=5) ＞ (4DM<=5) ＞ [3, 4, 6, 7] ＞ 2 ＞ 成功数2 ダブル"
success = true
critical = true
rands = [
  { sides = 10, value = 3 },
  { sides = 10, value = 4 },
  { sides = 10, value = 6 },
  { sides = 10, value = 7 },
]

# 算術式テスト: ダイス数に乗算
[[ test ]]
game_system = "Emoklore"
input = "2*3DM<=5"
output = "(2*3DM<=5) ＞ (6DM<=5) ＞ [1, 2, 3, 6, 7, 8] ＞ 4 ＞ 成功数4 ミラクル"
success = true
critical = true
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 2 },
  { sides = 10, value = 3 },
  { sides = 10, value = 6 },
  { sides = 10, value = 7 },
  { sides = 10, value = 8 },
]

# 算術式テスト: 判定値に算術式
[[ test ]]
game_system = "Emoklore"
input = "2DM<=3+2"
output = "(2DM<=3+2) ＞ (2DM<=5) ＞ [3, 6] ＞ 1 ＞ 成功数1 成功"
success = true
rands = [
  { sides = 10, value = 3 },
  { sides = 10, value = 6 },
]

# 算術式テスト: ダイス数と判定値の両方に算術式
[[ test ]]
game_system = "Emoklore"
input = "1+2DM<=3+2"
output = "(1+2DM<=3+2) ＞ (3DM<=5) ＞ [3, 6, 7] ＞ 1 ＞ 成功数1 成功"
success = true
rands = [
  { sides = 10, value = 3 },
  { sides = 10, value = 6 },
  { sides = 10, value = 7 },
]

# 算術式テスト: ダイス数が0以下で確定失敗
[[ test ]]
game_system = "Emoklore"
input = "3-5DM<=5"
output = "(3-5DM<=5) ＞ ダイス数が0以下 ＞ 確定失敗"
failure = true
fumble = true
rands = []

# ダイスボーナス: Ez で加算
[[ test ]]
game_system = "Emoklore"
input = "2DM<=5E2"
output = "(2DM<=5E2) ＞ (4DM<=5) ＞ [3, 4, 6, 7] ＞ 2 ＞ 成功数2 ダブル"
success = true
critical = true
rands = [
  { sides = 10, value = 3 },
  { sides = 10, value = 4 },
  { sides = 10, value = 6 },
  { sides = 10, value = 7 },
]

# ダイスボーナス: E-z で減算
[[ test ]]
game_system = "Emoklore"
input = "3DM<=5E-1"
output = "(3DM<=5E-1) ＞ (2DM<=5) ＞ [3, 6] ＞ 1 ＞ 成功数1 成功"
success = true
rands = [
  { sides = 10, value = 3 },
  { sides = 10, value = 6 },
]

# ダイスボーナス: E-zでダイス数0以下で確定失敗
[[ test ]]
game_system = "Emoklore"
input = "1DM<=5E-2"
output = "(1DM<=5E-2) ＞ ダイス数が0以下 ＞ 確定失敗"
failure = true
fumble = true
rands = []

# 算術式とダイスボーナスの併用
[[ test ]]
game_system = "Emoklore"
input = "1+1DM<=5E2"
output = "(1+1DM<=5E2) ＞ (4DM<=5) ＞ [3, 4, 6, 7] ＞ 2 ＞ 成功数2 ダブル"
success = true
critical = true
rands = [
  { sides = 10, value = 3 },
  { sides = 10, value = 4 },
  { sides = 10, value = 6 },
  { sides = 10, value = 7 },
]

