##### クリファンなしコマンドのテスト #####
[[ test ]]
game_system = "Aionia"
input = "S1>=6 1つのダイスで成功 クリファンなし"
output = "(S1>=6) ＞ 8[8] ＞ 成功"
rands = [
  { sides = 10, value = 8 },
]

[[ test ]]
game_system = "Aionia"
input = "S1>=8 1つのダイスで失敗 クリファンなし"
output = "(S1>=8) ＞ 5[5] ＞ 失敗"
rands = [
  { sides = 10, value = 5 },
]

[[ test ]]
game_system = "Aionia"
input = "S1>=5 1つのダイスで失敗（ファンブルの値） クリファンなし"
output = "(S1>=5) ＞ 1[1] ＞ 失敗"
rands = [
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "S1>=1 1つのダイスで自動成功 クリファンなし"
output = "(S1>=1) ＞ 1[1] ＞ 自動成功"
rands = [
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "S1>=11 1つのダイスで自動失敗 クリファンなし"
output = "(S1>=11) ＞ 10[10] ＞ 自動失敗"
rands = [
  { sides = 10, value = 10 },
]

[[ test ]]
game_system = "Aionia"
input = "S2>=10 2つのダイスで成功 クリファンなし"
output = "(S2>=10) ＞ 11[2,9] ＞ 成功"
rands = [
  { sides = 10, value = 2 },
  { sides = 10, value = 9 },
]

[[ test ]]
game_system = "Aionia"
input = "S2>=5 2つのダイスで失敗 クリファンなし"
output = "(S2>=5) ＞ 4[3,1] ＞ 失敗"
rands = [
  { sides = 10, value = 3},
  { sides = 10, value = 1},
]

[[ test ]]
game_system = "Aionia"
input = "S2>=5 2つのダイスで失敗（ファンブルの値） クリファンなし"
output = "(S2>=5) ＞ 2[1,1] ＞ 失敗"
rands = [
  { sides = 10, value = 1},
  { sides = 10, value = 1},
]

[[ test ]]
game_system = "Aionia"
input = "S2>=2 2つのダイスで自動成功 クリファンなし"
output = "(S2>=2) ＞ 2[1,1] ＞ 自動成功"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "S2>=21 2つのダイスで自動失敗 クリファンなし"
output = "(S2>=21) ＞ 20[10,10] ＞ 自動失敗"
rands = [
  { sides = 10, value = 10},
  { sides = 10, value = 10},
]

[[ test ]]
game_system = "Aionia"
input = "S3>=18 3つのダイスで成功 クリファンなし"
output = "(S3>=18) ＞ 22[10,7,5] ＞ 成功"
rands = [
  { sides = 10, value = 10},
  { sides = 10, value = 7},
  { sides = 10, value = 5},
]

[[ test ]]
game_system = "Aionia"
input = "S3>=25 3つのダイスで失敗 クリファンなし"
output = "(S3>=25) ＞ 24[8,7,9] ＞ 失敗"
rands = [
  { sides = 10, value = 8 },
  { sides = 10, value = 7 },
  { sides = 10, value = 9 },
]

[[ test ]]
game_system = "Aionia"
input = "S3>=18 3つのダイスで成功（クリティカルの値） クリファンなし"
output = "(S3>=18) ＞ 28[8,10,10] ＞ 成功"
rands = [
  { sides = 10, value = 8},
  { sides = 10, value = 10},
  { sides = 10, value = 10},
]

[[ test ]]
game_system = "Aionia"
input = "S3>=8 3つのダイスで失敗（ファンブルの値） クリファンなし"
output = "(S3>=8) ＞ 3[1,1,1] ＞ 失敗"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "S3>=3 3つのダイスで自動成功 クリファンなし"
output = "(S3>=3) ＞ 3[1,1,1] ＞ 自動成功"
rands = [
  { sides = 10, value = 1},
  { sides = 10, value = 1},
  { sides = 10, value = 1},
]

[[ test ]]
game_system = "Aionia"
input = "S3>=31 3つのダイスで自動失敗 クリファンなし"
output = "(S3>=31) ＞ 30[10,10,10] ＞ 自動失敗"
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
]

##### ボーナス・ペナルティのテスト（クリファンなし）#####
[[ test ]]
game_system = "Aionia"
input = "S1+1>=6 1つのダイスでボーナスにより成功 クリファンなし"
output = "(S1+1>=6) ＞ 5[5]+1 ＞ 6 ＞ 成功"
rands = [
  { sides = 10, value = 5 },
]

[[ test ]]
game_system = "Aionia"
input = "S1-2>=8 1つのダイスでペナルティにより失敗 クリファンなし"
output = "(S1-2>=8) ＞ 8[8]-2 ＞ 6 ＞ 失敗"
rands = [
  { sides = 10, value = 8 },
]

[[ test ]]
game_system = "Aionia"
input = "S2+2>=15 2つのダイスでボーナスにより成功 クリファンなし"
output = "(S2+2>=15) ＞ 14[9,5]+2 ＞ 16 ＞ 成功"
rands = [
  { sides = 10, value = 9 },
  { sides = 10, value = 5 },
]

[[ test ]]
game_system = "Aionia"
input = "S2-1>=10 2つのダイスでペナルティにより失敗 クリファンなし"
output = "(S2-1>=10) ＞ 10[4,6]-1 ＞ 9 ＞ 失敗"
rands = [
  { sides = 10, value = 4 },
  { sides = 10, value = 6 },
]

[[ test ]]
game_system = "Aionia"
input = "S3+2>=20 3つのダイスでボーナスにより成功 クリファンなし"
output = "(S3+2>=20) ＞ 19[1,9,9]+2 ＞ 21 ＞ 成功"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 9 },
  { sides = 10, value = 9 },
]

[[ test ]]
game_system = "Aionia"
input = "S3-1>=10 3つのダイスでペナルティにより失敗 クリファンなし"
output = "(S3-1>=10) ＞ 10[3,3,4]-1 ＞ 9 ＞ 失敗"
rands = [
  { sides = 10, value = 3 },
  { sides = 10, value = 3 },
  { sides = 10, value = 4 },
]

##### 段階的な技能判定のテスト（クリファンなし）#####
[[ test ]]
game_system = "Aionia"
input = "S3>=14/18/22 段階的な技能判定 失敗 クリファンなし"
output = "(S3>=14/18/22) ＞ 11[3,4,4] ＞ 失敗"
rands = [
  { sides = 10, value = 3 },
  { sides = 10, value = 4 },
  { sides = 10, value = 4 },
]

[[ test ]]
game_system = "Aionia"
input = "S3>=14/18/22 段階的な技能判定 1段階成功 クリファンなし"
output = "(S3>=14/18/22) ＞ 15[3,4,8] ＞ 1段階成功"
rands = [
  { sides = 10, value = 3 },
  { sides = 10, value = 4 },
  { sides = 10, value = 8 },
]

[[ test ]]
game_system = "Aionia"
input = "S3>=14/18/22 段階的な技能判定 2段階成功 クリファンなし"
output = "(S3>=14/18/22) ＞ 20[9,10,1] ＞ 2段階成功"
rands = [
  { sides = 10, value = 9 },
  { sides = 10, value = 10 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "S3>=14/18/22 段階的な技能判定 全成功 クリファンなし"
output = "(S3>=14/18/22) ＞ 30[10,10,10] ＞ 全成功"
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
]

[[ test ]]
game_system = "Aionia"
input = "S3>=3/6/10 段階的な技能判定 1段階成功 （自動成功） クリファンなし"
output = "(S3>=3/6/10) ＞ 3[1,1,1] ＞ 1段階成功"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "S3>=31/35/40 段階的な技能判定 自動失敗 クリファンなし"
output = "(S3>=31/35/40) ＞ 30[10,10,10] ＞ 自動失敗"
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
]

[[ test ]]
game_system = "Aionia"
input = "S3+1>=14/18/22 段階的な技能判定 ボーナスにより1段階成功 クリファンなし"
output = "(S3+1>=14/18/22) ＞ 13[6,3,4]+1 ＞ 14 ＞ 1段階成功"
rands = [
  { sides = 10, value = 6 },
  { sides = 10, value = 3 },
  { sides = 10, value = 4 },
]

[[ test ]]
game_system = "Aionia"
input = "S3-2>=14/18/22 段階的な技能判定 ペナルティにより1段階成功 クリファンなし"
output = "(S3-2>=14/18/22) ＞ 19[7,10,2]-2 ＞ 17 ＞ 1段階成功"
rands = [
  { sides = 10, value = 7 },
  { sides = 10, value = 10 },
  { sides = 10, value = 2 },
]

##### クリファンありコマンドのテスト #####
[[ test ]]
game_system = "Aionia"
input = "ST1>=3 1つのダイスで成功 クリファンあり"
output = "(ST1>=3) ＞ 6[6] ＞ 成功"
rands = [
  { sides = 10, value = 6 },
]

[[ test ]]
game_system = "Aionia"
input = "ST1>=8 1つのダイスで失敗 クリファンあり"
output = "(ST1>=8) ＞ 2[2] ＞ 失敗"
rands = [
  { sides = 10, value = 2 },
]

[[ test ]]
game_system = "Aionia"
input = "ST1>=3 1つのダイスでファンブル クリファンあり"
output = "(ST1>=3) ＞ 1[1] ＞ ファンブル"
rands = [
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "ST1>=1 1つのダイスで自動成功 クリファンあり"
output = "(ST1>=1) ＞ 1[1] ＞ 自動成功"
rands = [
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "ST1>=11 1つのダイスで自動失敗 クリファンあり"
output = "(ST1>=11) ＞ 10[10] ＞ 自動失敗"
rands = [
  { sides = 10, value = 10 },
]

[[ test ]]
game_system = "Aionia"
input = "ST1>=11 1つのダイスでファンブル（自動失敗の値） クリファンあり"
output = "(ST1>=11) ＞ 1[1] ＞ ファンブル"
rands = [
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "ST2>=7 2つのダイスで成功 クリファンあり"
output = "(ST2>=7) ＞ 20[10,10] ＞ 成功"
rands = [
  {sides = 10, value = 10 },
  {sides = 10, value = 10 },
]

[[ test ]]
game_system = "Aionia"
input = "ST2>=15 2つのダイスで失敗 クリファンあり"
output = "(ST2>=15) ＞ 12[6,6] ＞ 失敗"
rands = [
  {sides = 10, value = 6 },
  {sides = 10, value = 6 },
]

[[ test ]]
game_system = "Aionia"
input = "ST2>=15 2つのダイスでファンブル クリファンあり"
output = "(ST2>=15) ＞ 2[1,1] ＞ ファンブル"
rands = [
  {sides = 10, value = 1 },
  {sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "ST2>=2 2つのダイスで自動成功 クリファンあり"
output = "(ST2>=2) ＞ 2[1,1] ＞ 自動成功"
rands = [
  {sides = 10, value = 1 },
  {sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "ST2>=21 2つのダイスで自動失敗 クリファンあり"
output = "(ST2>=21) ＞ 20[10,10] ＞ 自動失敗"
rands = [
  {sides = 10, value = 10 },
  {sides = 10, value = 10 },
]

[[ test ]]
game_system = "Aionia"
input = "ST2>=21 2つのダイスでファンブル（自動失敗の値） クリファンあり"
output = "(ST2>=21) ＞ 2[1,1] ＞ ファンブル"
rands = [
  {sides = 10, value = 1 },
  {sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=15 3つのダイスで成功 クリファンあり"
output = "(ST3>=15) ＞ 19[5,7,7] ＞ 成功"
rands = [
  { sides = 10, value = 5},
  { sides = 10, value = 7},
  { sides = 10, value = 7},
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=10 3つのダイスで失敗 クリファンあり"
output = "(ST3>=10) ＞ 8[1,2,5] ＞ 失敗"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 2 },
  { sides = 10, value = 5 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=5 3つのダイスでクリティカル クリファンあり"
output = "(ST3>=5) ＞ 25[8,9,8] ＞ クリティカル"
rands = [
  { sides = 10, value = 8 },
  { sides = 10, value = 9 },
  { sides = 10, value = 8 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=18 3つのダイスでファンブル クリファンあり"
output = "(ST3>=18) ＞ 3[1,1,1] ＞ ファンブル"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=3 3つのダイスで自動成功 クリファンあり"
output = "(ST3>=3) ＞ 3[1,1,1] ＞ 自動成功"
rands = [
  { sides = 10, value = 1},
  { sides = 10, value = 1},
  { sides = 10, value = 1},
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=31 3つのダイスで自動失敗 クリファンあり"
output = "(ST3>=31) ＞ 30[10,10,10] ＞ 自動失敗"
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=31 3つのダイスでファンブル（自動失敗の値） クリファンあり"
output = "(ST3>=31) ＞ 3[1,1,1] ＞ ファンブル"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

##### ボーナス・ペナルティのテスト（クリファンあり）#####
[[ test ]]
game_system = "Aionia"
input = "ST1+1>=6 1つのダイスでボーナスにより成功 クリファンあり"
output = "(ST1+1>=6) ＞ 5[5]+1 ＞ 6 ＞ 成功"
rands = [
  { sides = 10, value = 5 },
]

[[ test ]]
game_system = "Aionia"
input = "ST1-2>=8 1つのダイスでペナルティにより失敗 クリファンあり"
output = "(ST1-2>=8) ＞ 8[8]-2 ＞ 6 ＞ 失敗"
rands = [
  { sides = 10, value = 8 },
]

[[ test ]]
game_system = "Aionia"
input = "ST2+2>=15 2つのダイスでボーナスにより成功 クリファンあり"
output = "(ST2+2>=15) ＞ 14[9,5]+2 ＞ 16 ＞ 成功"
rands = [
  { sides = 10, value = 9 },
  { sides = 10, value = 5 },
]

[[ test ]]
game_system = "Aionia"
input = "ST2-1>=10 2つのダイスでペナルティにより失敗 クリファンあり"
output = "(ST2-1>=10) ＞ 10[4,6]-1 ＞ 9 ＞ 失敗"
rands = [
  { sides = 10, value = 4 },
  { sides = 10, value = 6 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3+2>=20 3つのダイスでボーナスにより成功 クリファンあり"
output = "(ST3+2>=20) ＞ 19[1,9,9]+2 ＞ 21 ＞ 成功"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 9 },
  { sides = 10, value = 9 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3-1>=10 3つのダイスでペナルティにより失敗 クリファンあり"
output = "(ST3-1>=10) ＞ 10[3,3,4]-1 ＞ 9 ＞ 失敗"
rands = [
  { sides = 10, value = 3 },
  { sides = 10, value = 3 },
  { sides = 10, value = 4 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3+4>=10 ボーナスによりクリティカル"
output = "(ST3+4>=10) ＞ 26[9,10,7]+4 ＞ 30 ＞ クリティカル"
rands = [
  { sides = 10, value = 9 },
  { sides = 10, value = 10 },
  { sides = 10, value = 7 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3+2>=8 ボーナスはあるがファンブル"
output = "(ST3+2>=8) ＞ 3[1,1,1]+2 ＞ 5 ＞ ファンブル"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3+2>=5 出目がすべて1だがボーナスによりファンブルにならない"
output = "(ST3+2>=5) ＞ 3[1,1,1]+2 ＞ 5 ＞ 成功"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

##### 段階的な技能判定のテスト（クリファンあり）#####
[[ test ]]
game_system = "Aionia"
input = "ST3>=14/18/22 段階的な技能判定 失敗 クリファンあり"
output = "(ST3>=14/18/22) ＞ 11[3,4,4] ＞ 失敗"
rands = [
  { sides = 10, value = 3 },
  { sides = 10, value = 4 },
  { sides = 10, value = 4 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=14/18/22 段階的な技能判定 ファンブル クリファンあり"
output = "(ST3>=14/18/22) ＞ 3[1,1,1] ＞ ファンブル"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=14/18/22 段階的な技能判定 1段階成功 クリファンあり"
output = "(ST3>=14/18/22) ＞ 15[3,4,8] ＞ 1段階成功"
rands = [
  { sides = 10, value = 3 },
  { sides = 10, value = 4 },
  { sides = 10, value = 8 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=14/18/22 段階的な技能判定 2段階成功 クリファンあり"
output = "(ST3>=14/18/22) ＞ 20[9,10,1] ＞ 2段階成功"
rands = [
  { sides = 10, value = 9 },
  { sides = 10, value = 10 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=14/18/22 段階的な技能判定 全成功 クリファンあり"
output = "(ST3>=14/18/22) ＞ 23[10,6,7] ＞ 全成功"
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 6 },
  { sides = 10, value = 7 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=4/13/22 段階的な技能判定 クリティカルではなく全成功 クリファンあり"
output = "(ST3>=4/13/22) ＞ 24[10,7,7] ＞ 全成功"
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 7 },
  { sides = 10, value = 7 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=2/5/8 段階的な技能判定 クリティカル クリファンあり"
output = "(ST3>=2/5/8) ＞ 28[10,10,8] ＞ クリティカル"
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 8 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=3/6/10 段階的な技能判定 1段階成功 （自動成功） クリファンあり"
output = "(ST3>=3/6/10) ＞ 3[1,1,1] ＞ 1段階成功"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=31/35/40 段階的な技能判定 自動失敗 クリファンあり"
output = "(ST3>=31/35/40) ＞ 30[10,10,10] ＞ 自動失敗"
rands = [
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
  { sides = 10, value = 10 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3+1>=14/18/22 段階的な技能判定 ボーナスにより1段階成功 クリファンあり"
output = "(ST3+1>=14/18/22) ＞ 13[6,3,4]+1 ＞ 14 ＞ 1段階成功"
rands = [
  { sides = 10, value = 6 },
  { sides = 10, value = 3 },
  { sides = 10, value = 4 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3-2>=14/18/22 段階的な技能判定 ペナルティにより1段階成功 クリファンあり"
output = "(ST3-2>=14/18/22) ＞ 19[7,10,2]-2 ＞ 17 ＞ 1段階成功"
rands = [
  { sides = 10, value = 7 },
  { sides = 10, value = 10 },
  { sides = 10, value = 2 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3+5>=4/8/12 段階的な技能判定 ボーナスによりクリティカル クリファンあり"
output = "(ST3+5>=4/8/12) ＞ 27[9,9,9]+5 ＞ 32 ＞ クリティカル"
rands = [
  { sides = 10, value = 9 },
  { sides = 10, value = 9 },
  { sides = 10, value = 9 },
]

##### クリティカル>自動成功、ファンブル>自動失敗の優先度テスト #####
[[ test ]]
game_system = "Aionia"
input = "ST3>=3 クリファンあり"
output = "(ST3>=3) ＞ 23[9,7,7] ＞ クリティカル"
rands = [
  { sides = 10, value = 9 },
  { sides = 10, value = 7 },
  { sides = 10, value = 7 },
]

[[ test ]]
game_system = "Aionia"
input = "ST3>=31 クリファンあり"
output = "(ST3>=31) ＞ 3[1,1,1] ＞ ファンブル"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]

##### 全部乗せ #####
[[ test ]]
game_system = "Aionia"
input = "ST3+3>=3/6/8/10/12/15/18/20/22/24/26/28/30/32 段階的な技能判定 10段階成功 クリファンあり"
output = "(ST3+3>=3/6/8/10/12/15/18/20/22/24/26/28/30/32) ＞ 22[8,4,10]+3 ＞ 25 ＞ 10段階成功"
rands = [
  { sides = 10, value = 8 },
  { sides = 10, value = 4 },
  { sides = 10, value = 10 },
]

##### 特殊なケース #####
[[ test ]]
game_system = "Aionia"
input = "ST3>=2/3 段階的な技能判定 自動成功"
output = "(ST3>=2/3) ＞ 3[1,1,1] ＞ 自動成功"
rands = [
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
  { sides = 10, value = 1 },
]